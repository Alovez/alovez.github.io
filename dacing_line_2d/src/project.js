window.__require=function t(e,i,n){function r(o,s){if(!i[o]){if(!e[o]){var c=o.split("/");if(c=c[c.length-1],!e[c]){var y="function"==typeof __require&&__require;if(!s&&y)return y(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+o+"'")}}var l=i[o]={exports:{}};e[o][0].call(l.exports,function(t){return r(e[o][1][t]||t)},l,l.exports,t,e,i,n)}return i[o].exports}for(var a="function"==typeof __require&&__require,o=0;o<n.length;o++)r(n[o]);return r}({anim_controller:[function(t,e,i){"use strict";cc._RF.push(e,"29f4ef6LchGgbwKyiQ2mUBb","anim_controller"),cc.Class({extends:cc.Component,properties:{play_time:0},onLoad:function(){this.frame_count=0,this.played=!1,this.anim=this.getComponent(cc.Animation)},start:function(){},update:function(t){this.frame_count+=1,this.frame_count%30==0&&(this.frame_count=0,this.node.parent.getComponent("game").get_current_time()>this.play_time&&!this.played&&(this.anim.play(),this.node.width=30,this.node.height=30,this.played=!0))}}),cc._RF.pop()},{}],camera_controller:[function(t,e,i){"use strict";cc._RF.push(e,"2b426HUFhRIBYT0wJwvyx4y","camera_controller"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Sprite}},start:function(){},update:function(t){this.node.x=this.player.node.x,this.node.y=this.player.node.y}}),cc._RF.pop()},{}],game:[function(t,e,i){"use strict";cc._RF.push(e,"99665PDy4JE/7HPWINfKAbj","game"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null},player:{default:null,type:cc.Sprite},tail_block:{default:null,type:cc.Prefab},grass:{default:null,type:cc.Prefab},path:{default:null,type:cc.Prefab},flower:{default:null,type:cc.Prefab}},onLoad:function(){this.started=!1,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.current_tail=null,this.current_tail_start_x=0,this.current_tail_start_y=0,this.space_count=0;for(var t=[{Time:0,x:0,y:0},{Time:1.92,x:0,y:835},{Time:2.570666666666667,x:195,y:835},{Time:3.2906666666666666,x:195,y:1050},{Time:4.1306666666666665,x:450,y:1050},{Time:4.8293333333333335,x:450,y:1260},{Time:5.549333333333333,x:665,y:1260},{Time:6.370666666666667,x:665,y:1505},{Time:7.149333333333333,x:900,y:1505},{Time:8.509333333333334,x:900,y:1910},{Time:9.989333333333333,x:1345,y:1910},{Time:11.498666666666667,x:1345,y:2365},{Time:12.96,x:1780,y:2365},{Time:18.218666666666667,x:1780,y:3945},{Time:19.149333333333335,x:2060,y:3945},{Time:20.410666666666668,x:2060,y:4325},{Time:21.96,x:2520,y:4325},{Time:23.549333333333333,x:2520,y:4805},{Time:25.018666666666668,x:2960,y:4805},{Time:26.709333333333333,x:2960,y:5310},{Time:27.36,x:3155,y:5310},{Time:28.058666666666667,x:3155,y:5520},{Time:28.749333333333333,x:3365,y:5520},{Time:29.52,x:3365,y:5750},{Time:30.21066666666667,x:3570,y:5750},{Time:31.04,x:3570,y:6e3},{Time:31.818666666666665,x:3805,y:6e3},{Time:32.54933333333334,x:3805,y:6220},{Time:33.349333333333334,x:4045,y:6220},{Time:34.08,x:4045,y:6435},{Time:34.84,x:4275,y:6435},{Time:35.54933333333334,x:4275,y:6650},{Time:36.330666666666666,x:4505,y:6650},{Time:37.138666666666666,x:4505,y:6895},{Time:38.74933333333333,x:4990,y:6895},{Time:40.29866666666667,x:4990,y:7360},{Time:41.72,x:5415,y:7360},{Time:42.57866666666666,x:5415,y:7620},{Time:43.54933333333334,x:5705,y:7620},{Time:44.97866666666667,x:5705,y:8045},{Time:46.41866666666667,x:6140,y:8045},{Time:63.97866666666667,x:6140,y:13310},{Time:64.58933333333333,x:6325,y:13310},{Time:65.28,x:6325,y:13520},{Time:66.13066666666667,x:6575,y:13520},{Time:66.93066666666667,x:6575,y:13760},{Time:67.64,x:6790,y:13760},{Time:68.38933333333334,x:6790,y:13985},{Time:69.18933333333334,x:7030,y:13985},{Time:70.61866666666667,x:7030,y:14415},{Time:72.09066666666666,x:7470,y:14415},{Time:73.52,x:7470,y:14845},{Time:75.05866666666667,x:7930,y:14845},{Time:76.61066666666666,x:7930,y:15305},{Time:78.06933333333333,x:8370,y:15305},{Time:79.48,x:8370,y:15725},{Time:80.94933333333333,x:8815,y:15725},{Time:86.09866666666667,x:8815,y:17270},{Time:88.69866666666667,x:9595,y:17270},{Time:89.85066666666667,x:9595,y:17615},{Time:91.48,x:10080,y:17615},{Time:92.88,x:10080,y:18040},{Time:94.41066666666667,x:10535,y:18040},{Time:95.85866666666666,x:10535,y:18480},{Time:97.45866666666667,x:11010,y:18480},{Time:98.96,x:11010,y:18930},{Time:100.30933333333333,x:11410,y:18930},{Time:106.45066666666666,x:11410,y:20775},{Time:107.97866666666667,x:11865,y:20775},{Time:109.41066666666667,x:11865,y:21210},{Time:110.21866666666666,x:12105,y:21210}],e=null,i=0;i<t.length;i++){var n=t[i];e&&(this.gen_grass(e,n),this.gen_path(e,n),n.Time>44&&this.gen_flower(e,n)),e=n}},start:function(){},gen_flower:function(t,e){for(var i=Math.floor(e.Time-t.Time)+1,n=0;n<i;n++){var r=cc.instantiate(this.flower);if(r.parent=this.node,t.x==e.x)var a=t.x+100*Math.random()+80,o=((s=Math.random()*(e.y-t.y)+t.y)-t.y)/(e.y-t.y);else{var s=t.y+100*Math.random()+80;o=((a=Math.random()*(e.x-t.x)+t.x)-t.x)/(e.x-t.x)}r.setPosition(a,s),r.getComponent("anim_controller").play_time=t.Time+(e.Time-t.Time)*o-1}},gen_path:function(t,e){if(t.x==e.x)var i=e.y-t.y+80,n=80;else i=80,n=e.x-t.x+80;var r=cc.instantiate(this.path);r.parent=this.node,r.width=n,r.height=i,r.zIndex=cc.macro.MIN_ZINDEX,r.setPosition(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2)},gen_grass:function(t,e){for(var i=Math.floor((e.Time-t.Time)/2)+1,n=0;n<i;n++){var r=cc.instantiate(this.grass);if(r.parent=this.node,t.x==e.x)var a=t.x+100*Math.random()+80,o=((s=Math.random()*(e.y-t.y)+t.y)-t.y)/(e.y-t.y);else{var s=t.y+100*Math.random()+80;o=((a=Math.random()*(e.x-t.x)+t.x)-t.x)/(e.x-t.x)}r.setPosition(a,s),r.getComponent("anim_controller").play_time=t.Time+(e.Time-t.Time)*o-1}},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.space:console.log("Time: "+this.get_current_time()),console.log("x: "+this.player.node.x),console.log("y: "+this.player.node.y),this.space_count+=1,this.started?(this.player.node.getComponent("player").direction=(this.player.node.getComponent("player").direction+3)%2,console.log(this.player.node.getComponent("player").direction)):(this.started=!0,this.player.node.getComponent("player").started=!0),this.current_tail=cc.instantiate(this.tail_block),this.current_tail.parent=this.node,this.current_tail_start_x=this.player.node.x,this.current_tail_start_y=this.player.node.y,this.current_tail.setPosition(this.current_tail_start_x,this.current_tail_start_y)}},get_current_time:function(){return this.audioSource.getCurrentTime()},update_tail:function(){this.current_tail_start_x==this.player.node.x?this.current_tail.width=30:(this.current_tail.width=this.player.node.x-this.current_tail_start_x+30,this.current_tail.x=this.current_tail_start_x+(this.player.node.x-this.current_tail_start_x)/2),this.current_tail_start_y==this.player.node.y?this.current_tail.height=30:(this.current_tail.height=this.player.node.y-this.current_tail_start_y+30,this.current_tail.y=this.current_tail_start_y+(this.player.node.y-this.current_tail_start_y)/2)},update:function(t){this.player.node.y>250&&!this.audioSource.isPlaying&&this.audioSource.play(),this.current_tail&&this.update_tail()}}),cc._RF.pop()},{}],player:[function(t,e,i){"use strict";cc._RF.push(e,"375fcd5jRVB0q6P+m/zC1J1","player"),cc.Class({extends:cc.Component,properties:{speed:0,started:!1,direction:0},start:function(){},update:function(t){this.started&&(0==this.direction?this.node.y+=5:this.node.x+=5)}}),cc._RF.pop()},{}],tail:[function(t,e,i){"use strict";cc._RF.push(e,"a057e3eiN1BkYYwHWIB8jjw","tail"),cc.Class({extends:cc.Component,properties:{start_x:0,start_y:0},start:function(){}}),cc._RF.pop()},{}]},{},["anim_controller","camera_controller","game","player","tail"]);